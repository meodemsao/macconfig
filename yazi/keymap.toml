# Yazi Keymap Configuration
# https://yazi-rs.github.io/docs/configuration/keymap

# This file only contains custom keymaps or overrides
# Default keymaps: https://github.com/sxyazi/yazi/blob/main/yazi-config/preset/keymap.toml

[manager]
prepend_keymap = [
    # Open in nvim
    { on = [
        "e",
    ], run = 'shell "$EDITOR $@" --block', desc = "Edit in Neovim" },

    # Quick navigation with g prefix
    { on = [
        "g",
        "h",
    ], run = "cd ~", desc = "Go to home" },
    { on = [
        "g",
        "c",
    ], run = "cd ~/.config", desc = "Go to config" },
    { on = [
        "g",
        "d",
    ], run = "cd ~/Downloads", desc = "Go to Downloads" },
    { on = [
        "g",
        "D",
    ], run = "cd ~/Desktop", desc = "Go to Desktop" },
    { on = [
        "g",
        "p",
    ], run = "cd ~/Desktop/Projects", desc = "Go to Projects" },
    { on = [
        "g",
        "t",
    ], run = "cd /tmp", desc = "Go to tmp" },

    # Create file/directory
    { on = [
        "a",
    ], run = "create", desc = "Create file or directory" },

    # Toggle hidden files
    { on = [
        "H",
    ], run = "hidden toggle", desc = "Toggle hidden files" },

    # Open in Finder
    { on = [
        "O",
    ], run = 'shell "open -R $1" --confirm', desc = "Reveal in Finder" },

    # Copy file path
    { on = [
        "Y",
    ], run = [
        "yank",
        '''shell 'for path in "$@"; do echo "$path"; done | pbcopy' --confirm''',
    ], desc = "Copy file path to clipboard" },
]

[input]
prepend_keymap = [
    # Use Escape to cancel
    { on = ["<Esc>"], run = "close", desc = "Cancel input" },
]
